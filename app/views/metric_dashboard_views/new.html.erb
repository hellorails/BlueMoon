               <%= render partial: "shared/flash_messages", flash: flash %> 

<%= simple_form_for @metric_dashboard_view do |f| %>
  <%#= f.input :name, label: 'Your username please', error: 'Username is mandatory, please specify one' %>

 
 <%#=   f.collection_check_boxes :metric_view_contents_ids, f.object.metric_view_contents, :id, :name%> 
 <%#=   f.collection_check_boxes :metric_d_ids, MetricDetail.all, :id, :name%> 
 
  <%#= f.fields_for :metric_view_contents do |od| %>
  <%# raise f.object.metric_details.inspect %>
    <%#=   check_box_tag :metric_order_number %> <%#`	``= od.object.metric_detail.name%>
    <%#=   od.input :metric_detail_id, value: od.object.metric_detail.try(:name) %>
  <%# end %>

  <%= f.button :submit, class: 'btn btn-info' %>


<div class="container">
<ul id="sortable">
  <% MetricDetail.all.each_with_index  do |x, index| %>
    <li class="ui-state-default">
      <%= text_field_tag  "metric_dashboard_view[metric_detail_ids[]", x.name  %>
     </li>
  <% end %>
</ul>  
</div>
<% end %> 

<!-- 
<div class="container">
  <div class="row">
    <div class="col-sm" style="border: 1px solid red">
      1/3
    </div>
    <div class="col-sm">
      1/3
    </div>
    <div class="col-sm">
      1/3
    </div>
  </div>
</div> -->
 
	
    <script>
 
$(function () {
    $("#sortable").sortable({
        update: function (event, ui) {
            var order = $(this).sortable('serialize');
        }
    }).disableSelection();
    $('button').on('click', function () {
        var a = $("#sortable").sortable("serialize", {
            attribute: "id"
        });
        console.log(a);
        $.ajax({
            data: a,
            type: 'POST',
            url: 'saverank.php'
        });
    });
});


  </script>

    <style>
  #sortable { list-style-type: none; margin: 0; padding: 0; width: 1250; }
  #sortable li { margin: 3px 3px 3px 0; padding: 1px; float: left; width: 366px; height: 40px;  text-align: center; }
  </style>